{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="container py-5 d-flex justify-content-center">
  <!-- Checkout Card -->
  <div class="card shadow-lg w-100 text-center" style="max-width: 28rem;">
    <div class="card-body p-4">
      <!-- Heading -->
      <h2 class="h3 fw-bold text-primary mb-4">
        Checkout for {{ course.title }}
      </h2>

      <!-- Payment Info -->
      <p class="text-dark mb-3">
        You are about to purchase <span class="fw-semibold text-warning">{{ course.title }}</span>.
      </p>
      <p class="text-secondary mb-4">
        Amount: <span class="fw-bold">â‚¹{{ order.amount|floatformat:2 }}</span>
      </p>

      <!-- Razorpay Button -->
      <form action="{% url 'payment_success' %}" method="POST">
        {% csrf_token %}
        <script src="https://checkout.razorpay.com/v1/checkout.js"
                data-key="{{ razorpay_key }}"
                data-amount="{{ order.amount }}"
                data-currency="INR"
                data-order_id="{{ order.id }}"
                data-buttontext="Pay Now"
                data-name="LearnCloud"
                data-description="Course Payment"
                data-prefill.name="{{ request.user.username }}"
                data-theme.color="#1E3A8A">
        </script>
      </form>

      <!-- Note -->
      <p class="mt-3 small text-muted">
        Secure payment powered by Razorpay.
      </p>
    </div>
  </div>
</section>
{% endblock %}